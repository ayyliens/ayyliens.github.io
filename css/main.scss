@use './mod/sb/reset';
@use './mod/sb/sb';

@include sb.all;

/* Vars */

/*
SCSS variables can be used for media queries and transformed by SASS color
functions. CSS variables support dynamic overrides, which is especially useful
for colors. The "final" styles should use CSS variables whenever possible, but
sometimes we have to define them as SCSS variables first.
*/
$breakpoint-xs: 320px;
$breakpoint-sm: 600px;
$breakpoint-md: 896px;
$breakpoint-lg: 1024px;
$light-color-prim: hsl(217, 71%, 53%);

// Defined as mixin, rather than pseudo-class, for compatibility with `@media`.
@mixin color-scheme-dark {
  --c-bg:           hsl(200, 5%, 10%);
  --c-fg:           hsl(0, 0%, 90%);
  --c-bg-far:       darkslategray;
  --c-bg-near:      hsl(0, 0%, 15%);
  --c-fg-far:       hsl(0, 0%, 40%);
  --c-fg-near:      hsl(0, 0%, 70%);
  --c-red:          hsl(0, 70%, 30%);
  --c-blue:         hsl(207, 100%, 60%);
  --c-link:         hsl(230, 70%, 80%);
  --c-link-visited: hsl(260, 45%, 65%);
  --c-code-bg:      hsl(70, 8%, 15%); // Same as chroma's Monokai background
  --c-hr:           hsl(0, 0%, 63%);
}

// Defined as mixin, rather than pseudo-class, for compatibility with `@media`.
@mixin color-scheme-light {
  --c-bg:           white;
  --c-fg:           black;
  --c-bg-far:       hsl(0, 0%, 46%);
  --c-bg-near:      aliceblue;
  --c-fg-far:       hsl(0, 0%, 70%);
  --c-fg-near:      hsl(0, 0%, 40%);
  --c-red:          hsl(3,   100%, 60%);
  --c-blue:         hsl(207, 100%, 42%);
  --c-link:         hsl(231, 40%, 40%);
  --c-link-visited: hsl(260, 60%, 25%);
  --c-code-bg:      hsl(60, 33%, 97%);
  --c-hr:           hsl(0, 0%, 63%);
}

%vars-misc {
  --size-h1:       1.6rem;
  --size-h2:       1.4rem;
  --size-h3:       1.2rem;

  --size--1:       0.8rem;
  --size-0:        1rem;
  --size-1:        1.4rem;
  --size-2:        2rem;
  --size-3:        4rem;
  --size-4:        8rem;
}

/* Global */

:root {
  font-family: system-ui, -apple-system, 'BlinkMacSystemFont', 'Helvetica Neue', 'Roboto', 'Oxygen-Sans', 'Ubuntu', 'Cantarell', 'Segoe UI', 'Verdana', sans-serif;
  @include color-scheme-dark;
  @media(prefers-color-scheme: light) {@include color-scheme-light;}
  @extend .wei-normal, %vars-misc, .bg, .fg;
}

body {
  @extend .flex, .col, .wid-100vw;
  min-height: 100vh;
}

code, key, pre {@extend .code;}

/* Themes */

.bg {background-color: var(--c-bg);}
.fg {color: var(--c-fg);}

.bg-code {background-color: var(--c-code-bg);}

/* Typography */

// Overrides for `sb` classes. May be font-dependent.
.wei-normal {@extend .wei-lighter;}
.wei-bold   {@extend .wei-semi;}

.size--1 {font-size: var(--size--1);}
.size-0 {font-size: var(--size-0);}
.size-1 {font-size: var(--size-1);}
.size-2 {font-size: var(--size-2);}
.size-3 {font-size: var(--size-3);}

.font-mono {font-family: 'SF Mono', 'Menlo', 'Monaco', 'DejaVu Sans Mono', 'Consolas', monospace;}

/* Layout */

@mixin min-sm {@media (min-width: $breakpoint-sm) {@content;}}
@mixin max-sm {@media (max-width: $breakpoint-sm) {@content;}}
@mixin min-md {@media (min-width: $breakpoint-md) {@content;}}
@mixin max-md {@media (max-width: $breakpoint-md) {@content;}}
@mixin min-lg {@media (min-width: $breakpoint-lg) {@content;}}
@mixin max-lg {@media (max-width: $breakpoint-lg) {@content;}}

/* Misc */

:any-link {cursor: pointer;}
[disabled] {@extend .cur-not;}

.footer {@extend .mar-top-auto;}
.code {@extend .bg-code, .font-mono;}
